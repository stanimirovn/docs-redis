---
title: Redis for PCF Release Notes
owner: London Services
---

<strong><%= modified_date %></strong>

## <a id="view"></a> View Release Notes for Another Version

To view the release notes for another product version, select the version from the drop-down list at the top of this page.

## <a id="1105"></a> v1.10.5

**Release Date: March 7, 2018**

This release updates the stemcell verison.

### Compatibility

<table border="1" class="nice">
<tr>
	  <th>Component</th>
	  <th>Version</th>
</tr>
<tr>
    <td>Stemcell</td>
    <td>3468.25+</td>
</tr>
<tr>
	<td>PCF</td>
    <td>v1.11.x and v1.12.x</td>
</tr>
<tr>
    <td>cf-redis-release</td>
    <td>v431.5.0</td>
</tr>
<tr>
    <td>on-demand-service-broker</td>
    <td>v0.19.0</td>
</tr>
<tr>
    <td>consul</td>
    <td>v187.0.0</td>
</tr>
<tr>
    <td>routing</td>
    <td>v0.163.0</td>
</tr>
<tr>
    <td>service-metrics</td>
    <td>v1.5.11</td>
</tr>
<tr>
    <td>service-backup</td>
    <td>v18.1.9</td>
</tr>
<tr>
    <td>syslog-migration</td>
    <td>v10.0.0</td>
</tr>
<tr>
    <td>loggregator</td>
    <td>v97.0</td>
</tr>
<tr>
    <td>Redis OSS</td>
    <td>v3.2.11</td>
</tr>

</table>

### Known Issues

* The redis-odb service broker listens on port `12345`.
This is inconsistent with other services, but has no effect on tile operations.

* The **When Changed** option for errands has unexpected behavior.
Do not select this choice as an errand run-rule.
For more information about this unexpected behavior, see
[Errand Run Rules](https://docs.pivotal.io/tiledev/tile-errands.html#run-rules).

* Default persistence is set to full persistence using an AOF file. If an instance is restarted frequently (for example, for upgrades), this file can grow significantly,
leading to very large persistent disk usage. If your Redis instance has significantly larger persistent disk usage than expected,
check the size of your `appendonly.aof` file (usually at `/var/vcap/store/redis`) to verify if this is the source of the usage.
If so, you can mitigate this by running the [BGREWRITEAOF](https://redis.io/commands/bgrewriteaof) command.

* The redis-odb fails if arbitrary parameters are changed in an `update-service` command.

* Switching Lua Scripting to 'off' on plans with preexisting instances can cause upgrade errand failures. See [this article](REPLACE_ME_WITH_LUA_LINK) for information on how to resolve this.

## <a id="1104"></a> v1.10.4

**Release Date: February 7, 2018**

### Fixes

* Fixes a bug that blocks tile upgrades in some Pivotal Cloud Foundry (PCF) installations.

### Compatibility

<table border="1" class="nice">
<tr>
	  <th>Component</th>
	  <th>Version</th>
</tr>
<tr>
    <td>Stemcell</td>
    <td>3445.x</td>
</tr>
<tr>
	<td>PCF</td>
    <td>v1.11.x and v1.12.x</td>
</tr>
<tr>
    <td>cf-redis-release</td>
    <td>v431.2.0</td>
</tr>
<tr>
    <td>on-demand-service-broker</td>
    <td>v0.19.0</td>
</tr>
<tr>
    <td>consul</td>
    <td>v187.0.0</td>
</tr>
<tr>
    <td>routing</td>
    <td>v0.163.0</td>
</tr>
<tr>
    <td>service-metrics</td>
    <td>v1.5.11</td>
</tr>
<tr>
    <td>service-backup</td>
    <td>v18.1.9</td>
</tr>
<tr>
    <td>syslog-migration</td>
    <td>v10.0.0</td>
</tr>
<tr>
    <td>loggregator</td>
    <td>v97.0</td>
</tr>
<tr>
    <td>Redis OSS</td>
    <td>v3.2.11</td>
</tr>

</table>

### Known Issues

* The redis-odb service broker listens on port `12345`.
This is inconsistent with other services, but has no effect on tile operations.

* The **When Changed** option for errands has unexpected behavior.
Do not select this choice as an errand run-rule.
For more information about this unexpected behavior, see
[Errand Run Rules](https://docs.pivotal.io/tiledev/tile-errands.html#run-rules).

* Default persistence is set to full persistence using an AOF file. If an instance is restarted frequently (for example, for upgrades), this file can grow significantly,
leading to very large persistent disk usage. If your Redis instance has significantly larger persistent disk usage than expected,
check the size of your `appendonly.aof` file (usually at `/var/vcap/store/redis`) to verify if this is the source of the usage.
If so, you can mitigate this by running the [BGREWRITEAOF](https://redis.io/commands/bgrewriteaof) command.

* Switching Lua Scripting to 'off' on plans with preexisting instances can cause upgrade errand failures. See [this article](REPLACE_ME_WITH_LUA_LINK) for information on how to resolve this.

## <a id="1103"></a> v1.10.3

**Release Date: February 2, 2018**

### Compatibility

<table border="1" class="nice">
<tr>
	  <th>Component</th>
	  <th>Version</th>
</tr>
<tr>
    <td>Stemcell</td>
    <td>3445.x</td>
</tr>
<tr>
	<td>PCF</td>
    <td>v1.11.x and v1.12.x</td>
</tr>
<tr>
    <td>cf-redis-release</td>
    <td>v431.2.0</td>
</tr>
<tr>
    <td>on-demand-service-broker</td>
    <td>v0.19.0</td>
</tr>
<tr>
    <td>consul</td>
    <td>v187.0.0</td>
</tr>
<tr>
    <td>routing</td>
    <td>v0.163.0</td>
</tr>
<tr>
    <td>service-metrics</td>
    <td>v1.5.11</td>
</tr>
<tr>
    <td>service-backup</td>
    <td>v18.1.9</td>
</tr>
<tr>
    <td>syslog-migration</td>
    <td>v10.0.0</td>
</tr>
<tr>
    <td>loggregator</td>
    <td>v97.0</td>
</tr>
<tr>
    <td>Redis OSS</td>
    <td>v3.2.11</td>
</tr>

</table>

### Known Issues

* The redis-odb service broker listens on port `12345`.
This is inconsistent with other services, but has no effect on tile operations.

* The **When Changed** option for errands has unexpected behavior.
Do not select this choice as an errand run-rule.
For more information about this unexpected behavior, see
[Errand Run Rules](https://docs.pivotal.io/tiledev/tile-errands.html#run-rules).

* Due to a bug with the properties migration logic, tile upgrades in some PCF installations may be blocked.

* Default persistence is set to full persistence using an AOF file. If an instance is restarted frequently (for example, for upgrades), this file can grow significantly,
leading to very large persistent disk usage. If your Redis instance has significantly larger persistent disk usage than expected,
check the size of your `appendonly.aof` file (usually at `/var/vcap/store/redis`) to verify if this is the source of the usage.
If so, you can mitigate this by running the [BGREWRITEAOF](https://redis.io/commands/bgrewriteaof) command.

* Switching Lua Scripting to 'off' on plans with preexisting instances can cause upgrade errand failures. See [this article](REPLACE_ME_WITH_LUA_LINK) for information on how to resolve this.

## <a id="1102"></a> v1.10.2

**Release Date: January 22, 2018**

### Features

* `lua-timeout-limit`, a Redis configuration that is exposed to app developers through arbitrary parameters,
has been disabled for security concerns.

### Compatibility

<table border="1" class="nice">
<tr>
	  <th>Component</th>
	  <th>Version</th>
</tr>
<tr>
    <td>Stemcell</td>
    <td>3445.x</td>
</tr>
<tr>
	<td>PCF<sup>*</sup></td>
    <td>v1.11.x and v1.12.x</td>
</tr>
<tr>
    <td>cf-redis-release</td>
    <td>v431.2.0</td>
</tr>
<tr>
    <td>on-demand-service-broker</td>
    <td>v0.19.0</td>
</tr>
<tr>
    <td>consul</td>
    <td>v187.0.0</td>
</tr>
<tr>
    <td>routing</td>
    <td>v0.163.0</td>
</tr>
<tr>
    <td>service-metrics</td>
    <td>v1.5.11</td>
</tr>
<tr>
    <td>service-backup</td>
    <td>v18.1.9</td>
</tr>
<tr>
    <td>syslog-migration</td>
    <td>v10.0.0</td>
</tr>
<tr>
    <td>loggregator</td>
    <td>v97.0</td>
</tr>
<tr>
    <td>Redis OSS</td>
    <td>v3.2.11</td>
</tr>

</table>

### Known Issues

* The redis-odb service broker listens on port `12345`.
This is inconsistent with other services, but has no effect on tile operations.

* The **When Changed** option for errands has unexpected behavior.
Do not select this choice as an errand run-rule.
For more information about this unexpected behavior, see
[Errand Run Rules](https://docs.pivotal.io/tiledev/tile-errands.html#run-rules).

* Due to a bug with the properties migration logic, tile upgrades in some PCF installations may be blocked.

* Default persistence is set to full persistence using an AOF file. If an instance is restarted frequently (for example, for upgrades), this file can grow significantly,
leading to very large persistent disk usage. If your Redis instance has significantly larger persistent disk usage than expected,
check the size of your `appendonly.aof` file (usually at `/var/vcap/store/redis`) to verify if this is the source of the usage.
If so, you can mitigate this by running the [BGREWRITEAOF](https://redis.io/commands/bgrewriteaof) command.

* Switching Lua Scripting to 'off' on plans with preexisting instances can cause upgrade errand failures. See [this article](REPLACE_ME_WITH_LUA_LINK) for information on how to resolve this.

## <a id="1101"></a> v1.10.1

**Release Date: November 15, 2017**

### Compatibility

<table border="1" class="nice">
<tr>
	  <th>Component</th>
	  <th>Version</th>
</tr>
<tr>
    <td>Stemcell</td>
    <td>3445.x</td>
</tr>
<tr>
    <td>PCF</td>
    <td>v1.11.x and v1.12.x</td>
</tr>
<tr>
    <td>cf-redis-release</td>
    <td>v431.1.0</td>
</tr>
<tr>
    <td>on-demand-service-broker</td>
    <td>v0.17.2</td>
</tr>
<tr>
    <td>consul</td>
    <td>v178.0.0</td>
</tr>
<tr>
    <td>routing</td>
    <td>v0.162.0</td>
</tr>
<tr>
    <td>service-metrics</td>
    <td>v1.5.10</td>
</tr>
<tr>
    <td>service-backup</td>
    <td>v18.1.6</td>
</tr>
<tr>
    <td>syslog-migration</td>
    <td>v10.0.0</td>
</tr>
<tr>
    <td>loggregator</td>
    <td>v97.0.0</td>
</tr>
<tr>
    <td>Redis OSS</td>
    <td>v3.2.11</td>
</tr>

</table>

## <a id="1100"></a> v1.10.0

**Release Date: October 10, 2017**

### Features

* Includes metrics for the on-demand service. This enables operators to monitor the health of their Redis instances.

* Introduces a new format for on-demand metrics. This is the standard format for all services and will eventually replace other formats.

* Uses a new release for syslog that allows the operator to configure the log format to be either the pre-existing one or RFC5424. RFC5424 is the standard format for PCF services. The previous format will eventually be deprecated.

* Enables TLS encryption for syslog forwarding.

* Lua Scripting defaults to off for all on-demand service plans. Pivotal's security recommendation is to keep Lua Scripting as off.

* Allows the operator to opt-out of the on-demand service without configuring on-demand plans.

### Compatibility

<table border="1" class="nice">
<tr>
	  <th>Component</th>
	  <th>Version</th>
</tr>
<tr>
    <td>Stemcell</td>
    <td>3445.11+</td>
</tr>
<tr>
    <td>PCF</td>
    <td>v1.11.x and v1.12.x</td>
</tr>
<tr>
    <td>cf-redis-release</td>
    <td>v431.0.0</td>
</tr>
<tr>
    <td>on-demand-service-broker</td>
    <td>v0.17.0</td>
</tr>
<tr>
    <td>consul</td>
    <td>v178.0.0</td>
</tr>
<tr>
    <td>routing</td>
    <td>v0.162.0</td>
</tr>
<tr>
    <td>service-metrics</td>
    <td>v1.5.7</td>
</tr>
<tr>
    <td>service-backup</td>
    <td>v18.1.0</td>
</tr>
<tr>
    <td>syslog-migration</td>
    <td>v9.0.0</td>
</tr>
<tr>
    <td>loggregator</td>
    <td>v97.0.0</td>
</tr>
<tr>
    <td>Redis OSS</td>
    <td>v3.2.8</td>
</tr>

</table>

### Known Issues

* `lua-timeout-limit`, a Redis configuration that is exposed to app developers through arbitrary parameters, does not have any effect due to a bug in Redis v3.2.8.

* The redis-odb service broker listens on 12345. This is inconsistent with other services.

* The **When Changed** option for errands has [unexpected behavior](https://docs.pivotal.io/tiledev/tile-errands.html) in what changes trigger the errand. Do not select this option for errands.

* Logs for service-backup and service-metrics releases are truncated when syslog is not configured.

* Due to a bug with the properties migration logic, tile upgrades in some PCF installations may be blocked.

* Default persistence is set to full persistence using an AOF file. If an instance is restarted frequently (for example, for upgrades), this file can grow significantly,
leading to very large persistent disk usage. If your Redis instance has significantly larger persistent disk usage than expected,
check the size of your `appendonly.aof` file (usually at `/var/vcap/store/redis`) to verify if this is the source of the usage.
If so, you can mitigate this by running the [BGREWRITEAOF](https://redis.io/commands/bgrewriteaof) command.

* Switching Lua Scripting to 'off' on plans with preexisting instances can cause upgrade errand failures. See [this article](REPLACE_ME_WITH_LUA_LINK) for information on how to resolve this.